C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1:// Game components (GDD Section 1.1)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2:let scene, camera, renderer, player, street, rail;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:3:let obstacles = [];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:4:let animationId;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:5:let ambientSkaters = [];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:6:let ramp1, ramp2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:7:let ollieTextMesh;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:8:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:9:// Enhanced model loading and textures
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:10:let playerModel;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:11:let skateboardModel;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:12:let buildingModels = [];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:13:let treeModels = [];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:14:let textureLoader;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:15:let skyboxTexture;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:16:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:17:// Player state (GDD Section 2.1)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:18:let playerState = {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:19:    velocity: { x: 0, y: 0, z: 0 },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:20:    speed: 0.1,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:21:    jumpPower: 1.5,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:22:    gravity: 0.005,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:23:    onGround: true,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:24:    grinding: false
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:25:};
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:26:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:27:// Game state (GDD Section 2.3)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:28:let score = 0;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:29:let gameOver = false;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:30:let obstacleSpawnRate = 3000; // Milliseconds between obstacle spawns
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:31:let lastObstacleTime = 0;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:32:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:33:// AI-controlled game events (GDD Section 2.4)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:34:const aiEvents = [
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:35:    { name: "Rush Hour", obstacleFrequency: 2000 },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:36:    { name: "Construction Zone", obstacleFrequency: 2500 },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:37:    { name: "Sunday Morning", obstacleFrequency: 4000 },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:38:    { name: "Street Festival", obstacleFrequency: 1800 }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:39:];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:40:let currentAIEvent = 0;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:41:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:42:// Keyboard input (GDD Section 2.1)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:43:let keys = {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:44:    w: false,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:45:    a: false,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:46:    s: false,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:47:    d: false,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:48:    space: false,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:49:    shift: false,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:50:    e: false
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:51:};
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:52:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:53:// Setup key event listeners
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:54:document.addEventListener('keydown', (e) => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:55:    // Prevent default behavior for game control keys
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:56:    if (['w', 'a', 's', 'd', ' ', 'e', 'r', 'm', 'shift'].includes(e.key.toLowerCase())) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:57:        e.preventDefault();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:58:    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:59:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:60:    if (gameOver && e.key.toLowerCase() === 'r') {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:61:        resetGame();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:62:        return;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:63:    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:64:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:65:    if (e.key.toLowerCase() === 'm') {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:66:        toggleSound();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:67:        return;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:68:    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:69:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:70:    if (e.key.toLowerCase() in keys) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:71:        keys[e.key.toLowerCase()] = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:72:    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:73:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:74:    // Handle space key separately
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:75:    if (e.key === ' ') {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:76:        keys.space = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:77:    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:78:});
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:79:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:80:document.addEventListener('keyup', (e) => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:81:    // Prevent default behavior for game control keys
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:82:    if (['w', 'a', 's', 'd', ' ', 'e', 'r', 'm', 'shift'].includes(e.key.toLowerCase())) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:83:        e.preventDefault();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:84:    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:85:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:86:    if (e.key.toLowerCase() in keys) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:87:        keys[e.key.toLowerCase()] = false;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:88:    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:89:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:90:    // Handle space key separately
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:91:    if (e.key === ' ') {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:92:        keys.space = false;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:93:    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:94:});
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:95:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:96:// Reset keys when window loses focus
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:97:window.addEventListener('blur', () => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:98:    // Reset all keys
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:99:    Object.keys(keys).forEach(key => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:100:        keys[key] = false;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:101:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:102:});
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:103:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:104:// Setup function (GDD Section 1.2)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:106:    // Create scene (GDD Section 4.1)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:107:    scene = new THREE.Scene();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:108:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:109:    // Create skybox for beautiful background
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:110:    createSkybox();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:111:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:112:    // Create camera (GDD Section 4.2)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:113:    camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:114:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:115:    // Create renderer with enhanced settings (GDD Section 4.3)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:116:    renderer = new THREE.WebGLRenderer({ antialias: true });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:117:    renderer.setSize(window.innerWidth, window.innerHeight);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:118:    renderer.setPixelRatio(window.devicePixelRatio);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:119:    renderer.shadowMap.enabled = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:120:    renderer.shadowMap.type = THREE.PCFSoftShadowMap;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:121:    document.body.appendChild(renderer.domElement);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:122:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:123:    // Initialize texture loader
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:124:    textureLoader = new THREE.TextureLoader();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:125:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:126:    // Initialize audio system (GDD Section 5.0 - Sound Design)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:127:    initAudio();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:128:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:129:    // Create enhanced city environment
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:130:    createEnvironment();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:131:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:132:    // Load realistic models
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:133:    loadModels();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:134:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:135:    // Create the ground with better texture
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:136:    createStreet();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:137:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:138:    // Create skate park elements
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:139:    createSkateParkElements();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:140:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:141:    // Create temporary player until model loads
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:142:    createTemporaryPlayer();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:143:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:144:    // Position camera in third-person view (GDD Section 4.2)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:145:    camera.position.set(0, 5, 10);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:146:    camera.lookAt(new THREE.Vector3(0, 1, 0));
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:147:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:148:    // Enhanced lighting (GDD Section 4.5)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:149:    setupLighting();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:150:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:151:    // Add event listeners (GDD Section 2.1)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:152:    setupControls();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:153:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:154:    // Add window resize handler (GDD Section 3.3)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:155:    window.addEventListener('resize', onWindowResize);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:156:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:157:    // Initialize UI (GDD Section 2.2)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:158:    updateScoreDisplay();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:159:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:160:    // Start background music (GDD Section 5.0)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:161:    if (backgroundMusic) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:162:        backgroundMusic.play();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:163:    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:164:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:165:    // Add particle systems for visual effects
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:166:    setupParticleSystems();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:167:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:168:    // Add interactive elements
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:169:    addInteractiveElements();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:170:}
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:171:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:172:function loadTextureWithFallback(primaryUrl, fallbackUrl, callback) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:173:    const textureLoader = new THREE.TextureLoader();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:174:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:175:    // Try to load primary texture
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:176:    textureLoader.load(
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:177:        primaryUrl,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:178:        // Success
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:179:        function(texture) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:180:            if (callback) callback(texture);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:181:        },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:182:        // Progress
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:183:        undefined,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:184:        // Error - try fallback
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:185:        function(err) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:186:            console.warn('Failed to load texture:', primaryUrl, err);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:187:            console.log('Trying fallback texture...');
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:188:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:189:            // Try fallback
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:190:            textureLoader.load(
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:191:                fallbackUrl,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:192:                // Success with fallback
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:193:                function(texture) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:194:                    if (callback) callback(texture);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:195:                },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:196:                undefined,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:197:                // Complete failure
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:198:                function(err) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:199:                    console.error('Failed to load fallback texture:', fallbackUrl, err);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:200:                    // Use a solid color as last resort
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:201:                    const canvas = document.createElement('canvas');
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:202:                    canvas.width = 128;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:203:                    canvas.height = 128;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:204:                    const ctx = canvas.getContext('2d');
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:205:                    ctx.fillStyle = '#888888';
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:206:                    ctx.fillRect(0, 0, 128, 128);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:207:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:208:                    const fallbackTexture = new THREE.CanvasTexture(canvas);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:209:                    if (callback) callback(fallbackTexture);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:210:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:211:            );
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:212:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:213:    );
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:214:}
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:215:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:216:// Create skybox with fallback
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:217:function createSkybox() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:218:    try {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:219:        // Create a simple gradient skybox as the primary option
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:220:        // Fallback to a simple color if canvas isn't supported
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:221:        const canvas = document.createElement('canvas');
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:222:        canvas.width = 2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:223:        canvas.height = 2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:224:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:225:        const context = canvas.getContext('2d');
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:226:        const gradient = context.createLinearGradient(0, 0, 0, 2);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:227:        gradient.addColorStop(0, '#87CEEB'); // Sky blue
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:228:        gradient.addColorStop(1, '#E0F6FF'); // Light blue
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:229:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:230:        context.fillStyle = gradient;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:231:        context.fillRect(0, 0, 2, 2);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:232:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:233:        const texture = new THREE.CanvasTexture(canvas);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:234:        texture.needsUpdate = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:235:        scene.background = texture;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:236:    } catch(e) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:237:        console.error('Failed to create skybox:', e);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:238:        // Set a simple color as fallback
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:239:        scene.background = new THREE.Color(0x87CEEB);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:240:    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:241:}
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:242:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:243:// Create enhanced city environment with buildings and trees
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:244:function createEnvironment() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:245:    // Add distant cityscape
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:246:    const cityGeometry = new THREE.BoxGeometry(1, 1, 1);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:247:    const cityMaterials = [
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:248:        new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:249:            color: 0x8B4513 // Brick color
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:250:        }),
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:251:        new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:252:            color: 0x808080 // Gray color
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:253:        }),
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:254:        new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:255:            color: 0x966F33 // Wood color
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:256:        })
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:257:    ];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:258:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:259:    // Create buildings in the background
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:260:    for (let i = 0; i < 30; i++) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:261:        const height = 5 + Math.random() * 20;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:262:        const width = 3 + Math.random() * 5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:263:        const depth = 3 + Math.random() * 5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:264:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:265:        const building = new THREE.Mesh(
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:266:            new THREE.BoxGeometry(width, height, depth),
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:267:            cityMaterials[Math.floor(Math.random() * cityMaterials.length)]
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:268:        );
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:269:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:270:        // Position buildings in the background
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:271:        const side = Math.random() > 0.5 ? 1 : -1;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:272:        building.position.set(
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:273:            (side * (30 + Math.random() * 50)),
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:274:            height / 2,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:275:            -30 - Math.random() * 50
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:276:        );
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:277:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:278:        building.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:279:        building.receiveShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:280:        scene.add(building);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:281:        buildingModels.push(building);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:282:    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:283:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:284:    // Create trees and vegetation
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:285:    const treeTexture = textureLoader.load('https://threejs.org/examples/textures/sprite0.png');
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:286:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:287:    for (let i = 0; i < 50; i++) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:288:        // Simple tree made of trunk and leaves
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:289:        const trunkGeometry = new THREE.CylinderGeometry(0.2, 0.3, 1.5, 8);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:290:        const trunkMaterial = new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:291:            color: 0x8B4513,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:292:            roughness: 0.9
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:293:        });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:294:        const trunk = new THREE.Mesh(trunkGeometry, trunkMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:295:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:296:        const leavesGeometry = new THREE.SphereGeometry(1, 16, 16);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:297:        const leavesMaterial = new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:298:            color: 0x00AA00,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:299:            roughness: 0.8
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:300:        });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:301:        const leaves = new THREE.Mesh(leavesGeometry, leavesMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:302:        leaves.position.y = 1.5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:303:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:304:        const tree = new THREE.Group();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:305:        tree.add(trunk);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:306:        tree.add(leaves);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:307:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:308:        // Position trees on the sides
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:309:        const side = Math.random() > 0.5 ? 1 : -1;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:310:        tree.position.set(
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:311:            side * (20 + Math.random() * 30),
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:312:            0,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:313:            -20 + Math.random() * 40
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:314:        );
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:315:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:316:        tree.scale.set(1 + Math.random() * 0.5, 1 + Math.random() * 1, 1 + Math.random() * 0.5);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:317:        tree.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:318:        scene.add(tree);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:319:        treeModels.push(tree);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:320:    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:321:}
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:322:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:323:// Create procedural texture using canvas
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:324:function createCanvasTexture(width, height, drawFunction) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:325:    const canvas = document.createElement('canvas');
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:326:    canvas.width = width;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:327:    canvas.height = height;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:328:    const context = canvas.getContext('2d');
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:329:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:330:    // Call the provided drawing function
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:331:    drawFunction(context, width, height);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:332:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:333:    const texture = new THREE.CanvasTexture(canvas);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:334:    texture.wrapS = THREE.RepeatWrapping;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:335:    texture.wrapT = THREE.RepeatWrapping;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:336:    return texture;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:337:}
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:338:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:339:// Create street with better textures
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:340:function createStreet() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:341:    // Create street with texture
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:342:    const streetGeometry = new THREE.PlaneGeometry(100, 20);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:343:    const streetMaterial = new THREE.MeshStandardMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:344:        color: 0x808080, // Default gray color
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:345:        roughness: 0.8,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:346:        metalness: 0.2
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:347:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:348:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:349:    // Create procedural asphalt texture
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:350:    const streetTexture = createCanvasTexture(256, 256, (ctx, width, height) => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:351:        // Base dark gray
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:352:        ctx.fillStyle = '#555555';
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:353:        ctx.fillRect(0, 0, width, height);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:354:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:355:        // Add noise for asphalt texture
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:356:        for (let i = 0; i < 5000; i++) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:357:            const x = Math.random() * width;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:358:            const y = Math.random() * height;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:359:            const radius = Math.random() * 1 + 0.5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:360:            const color = Math.random() > 0.5 ? '#444444' : '#666666';
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:361:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:362:            ctx.beginPath();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:363:            ctx.fillStyle = color;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:364:            ctx.arc(x, y, radius, 0, Math.PI * 2);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:365:            ctx.fill();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:366:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:367:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:368:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:369:    streetTexture.repeat.set(10, 2);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:370:    streetMaterial.map = streetTexture;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:371:    streetMaterial.needsUpdate = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:372:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:373:    // Create sidewalks
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:374:    const sidewalkGeometry = new THREE.PlaneGeometry(100, 5);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:375:    const sidewalkMaterial = new THREE.MeshStandardMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:376:        color: 0xCCCCCC, // Default light gray color
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:377:        roughness: 0.7,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:378:        metalness: 0.1
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:379:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:380:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:381:    // Create procedural concrete texture
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:382:    const sidewalkTexture = createCanvasTexture(256, 256, (ctx, width, height) => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:383:        // Base light gray
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:384:        ctx.fillStyle = '#CCCCCC';
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:385:        ctx.fillRect(0, 0, width, height);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:386:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:387:        // Add grid pattern for sidewalk tiles
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:388:        ctx.strokeStyle = '#AAAAAA';
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:389:        ctx.lineWidth = 2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:390:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:391:        for (let x = 0; x <= width; x += width/4) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:392:            ctx.beginPath();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:393:            ctx.moveTo(x, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:394:            ctx.lineTo(x, height);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:395:            ctx.stroke();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:396:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:397:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:398:        for (let y = 0; y <= height; y += height/4) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:399:            ctx.beginPath();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:400:            ctx.moveTo(0, y);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:401:            ctx.lineTo(width, y);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:402:            ctx.stroke();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:403:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:404:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:405:        // Add some noise
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:406:        for (let i = 0; i < 1000; i++) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:407:            const x = Math.random() * width;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:408:            const y = Math.random() * height;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:409:            const radius = Math.random() * 1 + 0.2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:410:            const color = Math.random() > 0.5 ? '#BBBBBB' : '#DDDDDD';
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:411:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:412:            ctx.beginPath();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:413:            ctx.fillStyle = color;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:414:            ctx.arc(x, y, radius, 0, Math.PI * 2);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:415:            ctx.fill();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:416:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:417:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:418:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:419:    sidewalkTexture.repeat.set(20, 1);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:420:    sidewalkMaterial.map = sidewalkTexture;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:421:    sidewalkMaterial.needsUpdate = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:422:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:423:    // Create street/ground
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:424:    const street = new THREE.Mesh(streetGeometry, streetMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:425:    street.rotation.x = -Math.PI / 2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:426:    street.receiveShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:427:    scene.add(street);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:428:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:429:    // Create sidewalks
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:430:    const leftSidewalk = new THREE.Mesh(sidewalkGeometry, sidewalkMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:431:    leftSidewalk.rotation.x = -Math.PI / 2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:432:    leftSidewalk.position.set(0, 0.1, -12.5);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:433:    leftSidewalk.receiveShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:434:    scene.add(leftSidewalk);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:435:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:436:    const rightSidewalk = new THREE.Mesh(sidewalkGeometry, sidewalkMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:437:    rightSidewalk.rotation.x = -Math.PI / 2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:438:    rightSidewalk.position.set(0, 0.1, 12.5);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:439:    rightSidewalk.receiveShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:440:    scene.add(rightSidewalk);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:441:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:442:    // Add road markings
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:443:    const lineGeometry = new THREE.PlaneGeometry(80, 0.3);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:444:    const lineMaterial = new THREE.MeshStandardMaterial({ color: 0xFFFFFF });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:445:    const centerLine = new THREE.Mesh(lineGeometry, lineMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:446:    centerLine.rotation.x = -Math.PI / 2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:447:    centerLine.position.y = 0.01;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:448:    scene.add(centerLine);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:449:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:450:    // Add street decorations
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:451:    addStreetDecorations();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:452:}
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:453:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:454:// Add street decorations
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:455:function addStreetDecorations() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:456:    // Add trash cans
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:457:    const trashCanGeometry = new THREE.CylinderGeometry(0.3, 0.3, 1, 16);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:458:    const trashCanMaterial = new THREE.MeshStandardMaterial({ color: 0x444444 });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:459:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:460:    for (let i = 0; i < 10; i++) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:461:        const trashCan = new THREE.Mesh(trashCanGeometry, trashCanMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:462:        trashCan.position.set(
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:463:            -40 + i * 10,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:464:            0.5,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:465:            -9 + Math.random() * 2
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:466:        );
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:467:        trashCan.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:468:        trashCan.receiveShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:469:        scene.add(trashCan);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:470:    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:471:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:472:    // Add benches
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:473:    const benchSeatGeometry = new THREE.BoxGeometry(2, 0.1, 0.7);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:474:    const benchLegGeometry = new THREE.BoxGeometry(0.1, 0.5, 0.7);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:475:    const benchMaterial = new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:476:        color: 0x8B4513,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:477:        roughness: 0.8 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:478:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:479:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:480:    for (let i = 0; i < 5; i++) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:481:        const benchGroup = new THREE.Group();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:482:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:483:        const benchSeat = new THREE.Mesh(benchSeatGeometry, benchMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:484:        benchSeat.position.y = 0.5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:485:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:486:        const benchLeg1 = new THREE.Mesh(benchLegGeometry, benchMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:487:        benchLeg1.position.set(-0.8, 0.25, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:488:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:489:        const benchLeg2 = new THREE.Mesh(benchLegGeometry, benchMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:490:        benchLeg2.position.set(0.8, 0.25, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:491:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:492:        benchGroup.add(benchSeat);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:493:        benchGroup.add(benchLeg1);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:494:        benchGroup.add(benchLeg2);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:495:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:496:        benchGroup.position.set(
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:497:            -30 + i * 15,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:498:            0,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:499:            -9.5
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:500:        );
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:501:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:502:        benchGroup.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:503:        benchGroup.receiveShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:504:        scene.add(benchGroup);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:505:    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:506:}
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:507:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:508:// Create enhanced skate park elements
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:509:function createSkateParkElements() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:510:    // Create concrete texture for skate park elements
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:511:    const concreteMaterial = new THREE.MeshStandardMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:512:        color: 0x888888,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:513:        roughness: 0.7,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:514:        metalness: 0.2
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:515:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:516:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:517:    // Create procedural concrete texture for skate elements
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:518:    const concreteTexture = createCanvasTexture(256, 256, (ctx, width, height) => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:519:        // Base concrete color
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:520:        ctx.fillStyle = '#888888';
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:521:        ctx.fillRect(0, 0, width, height);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:522:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:523:        // Add speckled pattern for concrete
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:524:        ctx.fillStyle = '#777777';
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:525:        for (let i = 0; i < 5000; i++) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:526:            const x = Math.random() * width;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:527:            const y = Math.random() * height;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:528:            const size = Math.random() * 1.5 + 0.5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:529:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:530:            ctx.fillRect(x, y, size, size);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:531:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:532:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:533:        // Add some cracks
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:534:        ctx.strokeStyle = '#666666';
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:535:        ctx.lineWidth = 1;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:536:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:537:        for (let i = 0; i < 20; i++) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:538:            const x1 = Math.random() * width;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:539:            const y1 = Math.random() * height;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:540:            const length = Math.random() * 30 + 10;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:541:            const angle = Math.random() * Math.PI * 2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:542:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:543:            ctx.beginPath();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:544:            ctx.moveTo(x1, y1);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:545:            ctx.lineTo(
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:546:                x1 + Math.cos(angle) * length, 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:547:                y1 + Math.sin(angle) * length
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:548:            );
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:549:            ctx.stroke();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:550:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:551:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:552:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:553:    concreteTexture.repeat.set(2, 2);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:554:    concreteMaterial.map = concreteTexture;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:555:    concreteMaterial.needsUpdate = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:556:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:557:    // Create halfpipe
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:558:    const halfpipeCurve = new THREE.Shape();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:559:    halfpipeCurve.moveTo(-5, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:560:    halfpipeCurve.quadraticCurveTo(0, 4, 5, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:561:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:562:    const extrudeSettings = {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:563:        steps: 30,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:564:        depth: 5,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:565:        bevelEnabled: false
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:566:    };
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:567:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:568:    const halfpipeGeometry = new THREE.ExtrudeGeometry(halfpipeCurve, extrudeSettings);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:569:    const halfpipe = new THREE.Mesh(halfpipeGeometry, concreteMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:570:    halfpipe.position.set(-20, 0, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:571:    halfpipe.rotation.x = -Math.PI / 2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:572:    halfpipe.rotation.z = Math.PI;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:573:    halfpipe.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:574:    halfpipe.receiveShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:575:    scene.add(halfpipe);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:576:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:577:    // Create skate ramps
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:578:    const rampGeometry = new THREE.BoxGeometry(10, 2, 5);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:579:    ramp1 = new THREE.Mesh(rampGeometry, concreteMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:580:    ramp1.position.set(-15, 1, -5);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:581:    ramp1.rotation.z = Math.PI / 12;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:582:    ramp1.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:583:    ramp1.receiveShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:584:    scene.add(ramp1);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:585:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:586:    ramp2 = new THREE.Mesh(rampGeometry, concreteMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:587:    ramp2.position.set(15, 1, 5);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:588:    ramp2.rotation.z = -Math.PI / 12;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:589:    ramp2.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:590:    ramp2.receiveShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:591:    scene.add(ramp2);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:592:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:593:    // Create funbox
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:594:    const funboxGeometry = new THREE.BoxGeometry(8, 1, 5);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:595:    const funbox = new THREE.Mesh(funboxGeometry, concreteMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:596:    funbox.position.set(5, 0.5, -5);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:597:    funbox.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:598:    funbox.receiveShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:599:    scene.add(funbox);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:600:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:601:    // Create grind rails
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:602:    const railGeometry = new THREE.CylinderGeometry(0.1, 0.1, 10, 16);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:603:    const railMaterial = new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:604:        color: 0xCCCCCC,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:605:        metalness: 0.7,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:606:        roughness: 0.3
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:607:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:608:    rail = new THREE.Mesh(railGeometry, railMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:609:    rail.rotation.z = Math.PI / 2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:610:    rail.position.set(0, 1, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:611:    rail.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:612:    scene.add(rail);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:613:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:614:    // Create additional rails
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:615:    const rail2 = new THREE.Mesh(railGeometry, railMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:616:    rail2.rotation.z = Math.PI / 2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:617:    rail2.position.set(-10, 1, 5);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:618:    rail2.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:619:    scene.add(rail2);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:620:}
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:621:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:622:// Load realistic models using Three.js loaders
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:623:function loadModels() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:624:    // Load skateboard model
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:625:    loadSkateboardModel();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:626:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:627:    // Load skater models for ambient characters
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:628:    loadAmbientSkaters();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:629:}
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:630:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:631:// Load and setup skateboard model for player
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:632:function loadSkateboardModel() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:633:    const tempPlayerGeometry = new THREE.SphereGeometry(0.5, 32, 32);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:634:    const tempPlayerMaterial = new THREE.MeshStandardMaterial({ color: 0x00ff00 });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:635:    player = new THREE.Mesh(tempPlayerGeometry, tempPlayerMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:636:    player.position.set(0, 1, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:637:    player.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:638:    scene.add(player);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:639:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:640:    // Simulating model loading
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:641:    setTimeout(() => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:642:        // Create a more detailed player/skateboard model
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:643:        createDetailedPlayerModel();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:644:    }, 1000);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:645:}
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:646:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:647:// Create a more detailed player model
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:648:function createDetailedPlayerModel() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:649:    // Remove temporary player
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:650:    scene.remove(player);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:651:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:652:    // Create skateboard group
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:653:    const skateboardGroup = new THREE.Group();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:654:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:655:    // Create skateboard deck
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:656:    const deckGeometry = new THREE.BoxGeometry(1.8, 0.1, 0.6);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:657:    const deckMaterial = new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:658:        color: 0x8B4513,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:659:        roughness: 0.7
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:660:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:661:    const deck = new THREE.Mesh(deckGeometry, deckMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:662:    skateboardGroup.add(deck);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:663:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:664:    // Create wheels
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:665:    const wheelGeometry = new THREE.CylinderGeometry(0.1, 0.1, 0.1, 16);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:666:    const wheelMaterial = new THREE.MeshStandardMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:667:        color: 0x333333,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:668:        metalness: 0.5,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:669:        roughness: 0.7
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:670:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:671:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:672:    const wheelPositions = [
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:673:        {x: -0.7, y: -0.15, z: 0.25},
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:674:        {x: 0.7, y: -0.15, z: 0.25},
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:675:        {x: -0.7, y: -0.15, z: -0.25},
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:676:        {x: 0.7, y: -0.15, z: -0.25}
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:677:    ];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:678:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:679:    wheelPositions.forEach(pos => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:680:        const wheel = new THREE.Mesh(wheelGeometry, wheelMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:681:        wheel.position.set(pos.x, pos.y, pos.z);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:682:        wheel.rotation.z = Math.PI / 2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:683:        skateboardGroup.add(wheel);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:684:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:685:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:686:    // Create trucks
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:687:    const truckGeometry = new THREE.BoxGeometry(0.2, 0.1, 0.6);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:688:    const truckMaterial = new THREE.MeshStandardMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:689:        color: 0x888888,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:690:        metalness: 0.8,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:691:        roughness: 0.2
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:692:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:693:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:694:    const frontTruck = new THREE.Mesh(truckGeometry, truckMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:695:    frontTruck.position.set(0.7, -0.1, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:696:    skateboardGroup.add(frontTruck);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:697:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:698:    const backTruck = new THREE.Mesh(truckGeometry, truckMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:699:    backTruck.position.set(-0.7, -0.1, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:700:    skateboardGroup.add(backTruck);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:701:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:702:    // Create skater character
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:703:    const skaterGroup = new THREE.Group();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:704:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:705:    // Body
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:706:    const torsoGeometry = new THREE.CylinderGeometry(0.3, 0.3, 0.8, 16);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:707:    const bodyMaterial = new THREE.MeshStandardMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:708:        color: 0x0000FF, // Blue shirt
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:709:        roughness: 0.8
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:710:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:711:    const torso = new THREE.Mesh(torsoGeometry, bodyMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:712:    torso.position.y = 0.4;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:713:    skaterGroup.add(torso);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:714:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:715:    // Head
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:716:    const headGeometry = new THREE.SphereGeometry(0.25, 32, 32);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:717:    const headMaterial = new THREE.MeshStandardMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:718:        color: 0xFFD700, // Skin tone
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:719:        roughness: 0.5
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:720:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:721:    const head = new THREE.Mesh(headGeometry, headMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:722:    head.position.y = 1;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:723:    skaterGroup.add(head);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:724:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:725:    // Legs
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:726:    const legGeometry = new THREE.CylinderGeometry(0.12, 0.12, 0.7, 16);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:727:    const legMaterial = new THREE.MeshStandardMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:728:        color: 0x333333, // Dark pants
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:729:        roughness: 0.8
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:730:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:731:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:732:    const leftLeg = new THREE.Mesh(legGeometry, legMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:733:    leftLeg.position.set(-0.15, -0.2, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:734:    skaterGroup.add(leftLeg);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:735:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:736:    const rightLeg = new THREE.Mesh(legGeometry, legMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:737:    rightLeg.position.set(0.15, -0.2, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:738:    skaterGroup.add(rightLeg);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:739:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:740:    // Arms
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:741:    const armGeometry = new THREE.CylinderGeometry(0.08, 0.08, 0.6, 16);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:742:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:743:    const leftArm = new THREE.Mesh(armGeometry, bodyMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:744:    leftArm.position.set(-0.4, 0.3, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:745:    leftArm.rotation.z = Math.PI / 4;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:746:    skaterGroup.add(leftArm);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:747:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:748:    const rightArm = new THREE.Mesh(armGeometry, bodyMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:749:    rightArm.position.set(0.4, 0.3, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:750:    rightArm.rotation.z = -Math.PI / 4;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:751:    skaterGroup.add(rightArm);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:752:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:753:    // Combine skater and skateboard
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:754:    const playerGroup = new THREE.Group();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:755:    skaterGroup.position.y = 0.15;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:756:    playerGroup.add(skateboardGroup);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:757:    playerGroup.add(skaterGroup);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:758:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:759:    // Position the player
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:760:    playerGroup.position.set(0, 1, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:761:    playerGroup.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:762:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:763:    // Set player to our new group
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:764:    player = playerGroup;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:765:    scene.add(player);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:766:}
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:767:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:768:// Create temporary player until model loads
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:769:function createTemporaryPlayer() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:770:    const tempPlayerGeometry = new THREE.SphereGeometry(0.5, 32, 32);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:771:    const tempPlayerMaterial = new THREE.MeshStandardMaterial({ color: 0x00ff00 });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:772:    player = new THREE.Mesh(tempPlayerGeometry, tempPlayerMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:773:    player.position.set(0, 1, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:774:    player.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:775:    scene.add(player);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:776:}
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:777:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:778:// Load ambient skater models
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:779:function loadAmbientSkaters() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:780:    const skaterPositions = [
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:781:        { x: -20, y: 1, z: -5 },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:782:        { x: 20, y: 1, z: 5 },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:783:        { x: -10, y: 1, z: 8 },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:784:        { x: 10, y: 1, z: -8 }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:785:    ];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:786:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:787:    skaterPositions.forEach(pos => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:788:        // Create skater group
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:789:        const ambientSkaterGroup = new THREE.Group();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:790:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:791:        // Create simplified ambient skater
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:792:        const bodyGeometry = new THREE.CylinderGeometry(0.3, 0.3, 0.8, 16);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:793:        const bodyMaterial = new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:794:            color: Math.random() * 0xFFFFFF, // Random color shirts
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:795:            roughness: 0.8
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:796:        });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:797:        const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:798:        ambientSkaterGroup.add(body);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:799:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:800:        // Head
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:801:        const headGeometry = new THREE.SphereGeometry(0.25, 32, 32);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:802:        const headMaterial = new THREE.MeshStandardMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:803:            color: 0xFFD700, // Skin tone
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:804:            roughness: 0.5
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:805:        });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:806:        const head = new THREE.Mesh(headGeometry, headMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:807:        head.position.y = 0.6;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:808:        ambientSkaterGroup.add(head);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:809:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:810:        // Create simplified skateboard
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:811:        const skateboardGeometry = new THREE.BoxGeometry(1.2, 0.1, 0.5);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:812:        const skateboardMaterial = new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:813:            color: 0x8B4513,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:814:            roughness: 0.7 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:815:        });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:816:        const skateboard = new THREE.Mesh(skateboardGeometry, skateboardMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:817:        skateboard.position.y = -0.55;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:818:        ambientSkaterGroup.add(skateboard);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:819:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:820:        // Position the skater
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:821:        ambientSkaterGroup.position.set(pos.x, pos.y, pos.z);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:822:        ambientSkaterGroup.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:823:        ambientSkaterGroup.receiveShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:824:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:825:        // Add to scene and ambient skaters array
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:826:        scene.add(ambientSkaterGroup);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:827:        ambientSkaters.push(ambientSkaterGroup);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:828:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:829:}
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:830:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:831:// Setup enhanced lighting
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:832:function setupLighting() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:833:    // Remove previous lights
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:834:    scene.children.forEach(child => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:835:        if (child instanceof THREE.AmbientLight || 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:836:            child instanceof THREE.DirectionalLight ||
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:837:            child instanceof THREE.HemisphereLight ||
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:838:            child instanceof THREE.PointLight) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:839:            scene.remove(child);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:840:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:841:    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:842:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:843:    // Add hemisphere light (sky and ground colors)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:844:    const hemisphereLight = new THREE.HemisphereLight(0x87CEEB, 0x404040, 0.6);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:845:    scene.add(hemisphereLight);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:846:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:847:    // Add sun-like directional light with shadows
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:848:    const sunLight = new THREE.DirectionalLight(0xffffcc, 0.8);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:849:    sunLight.position.set(50, 50, 50);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:850:    sunLight.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:851:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:852:    // Improve shadow quality
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:853:    sunLight.shadow.mapSize.width = 2048;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:854:    sunLight.shadow.mapSize.height = 2048;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:855:    sunLight.shadow.camera.near = 0.5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:856:    sunLight.shadow.camera.far = 500;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:857:    sunLight.shadow.camera.left = -50;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:858:    sunLight.shadow.camera.right = 50;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:859:    sunLight.shadow.camera.top = 50;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:860:    sunLight.shadow.camera.bottom = -50;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:861:    scene.add(sunLight);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:862:    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:863:    // Add point lights for street lamps
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:864:    for (let i = 0; i < 5; i++) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:865:        const lampLight = new THREE.PointLight(0xffaa00, 1, 20, 2);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:866:        lampLight.position.set(-40 + i * 20, 5, -8);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:867:        lampLight.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:868:        lampLight.shadow.mapSize.width = 512;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:869:        lampLight.shadow.mapSize.height = 512;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:870:        scene.add(lampLight);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:871:
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:872:                // Add lamp post model
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:873:                const postGeometry = new THREE.CylinderGeometry(0.1, 0.1, 5, 8);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:874:                const postMaterial = new THREE.MeshStandardMaterial({ color: 0x888888 });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:875:                const post = new THREE.Mesh(postGeometry, postMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:876:                post.position.set(-40 + i * 20, 2.5, -8);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:877:                post.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:878:                scene.add(post);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:879:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:880:                const lampGeometry = new THREE.SphereGeometry(0.3, 16, 16);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:881:                const lampMaterial = new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:882:                    color: 0xffaa00,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:883:                    emissive: 0xffaa00,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:884:                    emissiveIntensity: 0.5
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:885:                });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:886:                const lamp = new THREE.Mesh(lampGeometry, lampMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:887:                lamp.position.set(-40 + i * 20, 5, -8);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:888:                scene.add(lamp);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:889:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:890:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:891:            // Add ambient light for base illumination
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:892:            const ambientLight = new THREE.AmbientLight(0xffffff, 0.3);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:893:            scene.add(ambientLight);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:894:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:895:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:896:        // Setup particle systems for visual effects
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:897:        let jumpParticles, grindParticles, ollieParticles;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:898:        function setupParticleSystems() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:899:            // Jump particles
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:900:            const jumpParticleCount = 20;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:901:            const jumpParticleGeometry = new THREE.BufferGeometry();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:902:            const jumpParticlePositions = new Float32Array(jumpParticleCount * 3);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:903:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:904:            for (let i = 0; i < jumpParticleCount; i++) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:905:                jumpParticlePositions[i * 3] = 0;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:906:                jumpParticlePositions[i * 3 + 1] = 0; 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:907:                jumpParticlePositions[i * 3 + 2] = 0;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:908:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:909:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:910:            jumpParticleGeometry.setAttribute('position', new THREE.BufferAttribute(jumpParticlePositions, 3));
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:911:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:912:            const jumpParticleMaterial = new THREE.PointsMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:913:                color: 0xFFFFFF,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:914:                size: 0.1,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:915:                transparent: true,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:916:                opacity: 0.8
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:917:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:918:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:919:            jumpParticles = new THREE.Points(jumpParticleGeometry, jumpParticleMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:920:            jumpParticles.visible = false;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:921:            scene.add(jumpParticles);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:922:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:923:            // Grind particles (sparks)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:924:            const grindParticleCount = 30;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:925:            const grindParticleGeometry = new THREE.BufferGeometry();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:926:            const grindParticlePositions = new Float32Array(grindParticleCount * 3);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:927:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:928:            for (let i = 0; i < grindParticleCount; i++) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:929:                grindParticlePositions[i * 3] = 0;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:930:                grindParticlePositions[i * 3 + 1] = 0; 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:931:                grindParticlePositions[i * 3 + 2] = 0;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:932:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:933:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:934:            grindParticleGeometry.setAttribute('position', new THREE.BufferAttribute(grindParticlePositions, 3));
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:935:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:936:            const grindParticleMaterial = new THREE.PointsMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:937:                color: 0xFFAA00,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:938:                size: 0.05,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:939:                transparent: true,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:940:                opacity: 0.8
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:941:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:942:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:943:            grindParticles = new THREE.Points(grindParticleGeometry, grindParticleMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:944:            grindParticles.visible = false;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:945:            scene.add(grindParticles);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:946:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:947:            // Ollie particles
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:948:            const ollieParticleCount = 40;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:949:            const ollieParticleGeometry = new THREE.BufferGeometry();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:950:            const ollieParticlePositions = new Float32Array(ollieParticleCount * 3);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:951:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:952:            for (let i = 0; i < ollieParticleCount; i++) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:953:                ollieParticlePositions[i * 3] = 0;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:954:                ollieParticlePositions[i * 3 + 1] = 0; 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:955:                ollieParticlePositions[i * 3 + 2] = 0;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:956:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:957:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:958:            ollieParticleGeometry.setAttribute('position', new THREE.BufferAttribute(ollieParticlePositions, 3));
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:959:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:960:            const ollieParticleMaterial = new THREE.PointsMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:961:                color: 0x00AAFF,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:962:                size: 0.08,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:963:                transparent: true,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:964:                opacity: 0.7
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:965:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:966:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:967:            ollieParticles = new THREE.Points(ollieParticleGeometry, ollieParticleMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:968:            ollieParticles.visible = false;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:969:            scene.add(ollieParticles);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:970:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:971:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:972:        // Add interactive elements to the scene
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:973:        function addInteractiveElements() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:974:            // Add interactive collectibles (coins)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:975:            createCollectibles();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:976:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:977:            // Add interactive power-ups
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:978:            createPowerUps();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:979:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:980:            // Add interactive NPCs
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:981:            createInteractiveNPCs();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:982:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:983:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:984:        // Create collectible coins
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:985:        let coins = [];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:986:        function createCollectibles() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:987:            // Create coin geometry and material
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:988:            const coinGeometry = new THREE.CylinderGeometry(0.3, 0.3, 0.05, 32);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:989:            const coinMaterial = new THREE.MeshStandardMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:990:                color: 0xFFD700,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:991:                metalness: 1.0,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:992:                roughness: 0.3,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:993:                emissive: 0xAA8800,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:994:                emissiveIntensity: 0.3
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:995:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:996:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:997:            // Create coins throughout the level
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:998:            for (let i = 0; i < 30; i++) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:999:                const coin = new THREE.Mesh(coinGeometry, coinMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1000:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1001:                // Position coins randomly along the path
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1002:                coin.position.set(
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1003:                    -40 + Math.random() * 80,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1004:                    1 + Math.random() * 2,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1005:                    Math.random() * 16 - 8
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1006:                );
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1007:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1008:                coin.rotation.x = Math.PI / 2; // Make coins face up
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1009:                coin.userData = {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1010:                    isCollectible: true,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1011:                    value: 50,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1012:                    rotationSpeed: 0.02 + Math.random() * 0.02
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1013:                };
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1014:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1015:                scene.add(coin);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1016:                coins.push(coin);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1017:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1018:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1019:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1020:        // Create power-ups
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1021:        let powerUps = [];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1022:        function createPowerUps() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1023:            // Define different power-up types
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1024:            const powerUpTypes = [
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1025:                { type: 'speed', color: 0x00FF00, value: 1.5, duration: 5000 },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1026:                { type: 'jump', color: 0xFF00FF, value: 2, duration: 5000 },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1027:                { type: 'invincibility', color: 0xFFFF00, value: 1, duration: 3000 }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1028:            ];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1029:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1030:            // Create power-up geometry and materials
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1031:            const powerUpGeometry = new THREE.BoxGeometry(0.7, 0.7, 0.7);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1032:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1033:            // Create power-ups throughout the level
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1034:            for (let i = 0; i < 5; i++) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1035:                const powerUpType = powerUpTypes[Math.floor(Math.random() * powerUpTypes.length)];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1036:                const powerUpMaterial = new THREE.MeshStandardMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1037:                    color: powerUpType.color,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1038:                    metalness: 0.7,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1039:                    roughness: 0.2,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1040:                    emissive: powerUpType.color,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1041:                    emissiveIntensity: 0.5,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1042:                    transparent: true,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1043:                    opacity: 0.8
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1044:                });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1045:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1046:                const powerUp = new THREE.Mesh(powerUpGeometry, powerUpMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1047:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1048:                // Position power-ups randomly along the path
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1049:                powerUp.position.set(
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1050:                    -30 + Math.random() * 60,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1051:                    1.5 + Math.random(),
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1052:                    Math.random() * 14 - 7
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1053:                );
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1054:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1055:                powerUp.userData = {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1056:                    isPowerUp: true,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1057:                    type: powerUpType.type,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1058:                    value: powerUpType.value,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1059:                    duration: powerUpType.duration,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1060:                    rotationSpeed: 0.03
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1061:                };
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1062:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1063:                scene.add(powerUp);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1064:                powerUps.push(powerUp);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1065:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1066:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1067:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1068:        // Create interactive NPCs
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1069:        let interactiveNPCs = [];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1070:        function createInteractiveNPCs() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1071:            // Create a skating instructor NPC that gives tips
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1072:            const instructorGroup = new THREE.Group();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1073:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1074:            // Body
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1075:            const bodyGeometry = new THREE.CylinderGeometry(0.3, 0.3, 1, 16);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1076:            const bodyMaterial = new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1077:                color: 0xFF0000, // Red shirt
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1078:                roughness: 0.8
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1079:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1080:            const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1081:            instructorGroup.add(body);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1082:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1083:            // Head
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1084:            const headGeometry = new THREE.SphereGeometry(0.3, 32, 32);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1085:            const headMaterial = new THREE.MeshStandardMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1086:                color: 0xFFD700, // Skin tone
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1087:                roughness: 0.5
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1088:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1089:            const head = new THREE.Mesh(headGeometry, headMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1090:            head.position.y = 0.7;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1091:            instructorGroup.add(head);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1092:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1093:            // Hat
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1094:            const hatGeometry = new THREE.ConeGeometry(0.35, 0.3, 32);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1095:            const hatMaterial = new THREE.MeshStandardMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1096:                color: 0x0000FF, // Blue hat
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1097:                roughness: 0.9
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1098:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1099:            const hat = new THREE.Mesh(hatGeometry, hatMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1100:            hat.position.y = 1;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1101:            instructorGroup.add(hat);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1102:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1103:            // Position the instructor
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1104:            instructorGroup.position.set(-10, 1, -7);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1105:            instructorGroup.userData = {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1106:                isNPC: true,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1107:                type: 'instructor',
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1108:                name: 'Skate Pro',
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1109:                messages: [
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1110:                    "Press E to do an ollie!",
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1111:                    "Hold Shift while near a rail to grind!",
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1112:                    "Space to jump, WASD to move!",
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1113:                    "Watch out for obstacles and collect coins!",
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1114:                    "Find power-ups to enhance your abilities!"
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1115:                ]
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1116:            };
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1117:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1118:            scene.add(instructorGroup);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1119:            interactiveNPCs.push(instructorGroup);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1120:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1121:            // Create a rival skater NPC that challenges the player
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1122:            const rivalGroup = new THREE.Group();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1123:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1124:            // Body
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1125:            const rivalBodyGeometry = new THREE.CylinderGeometry(0.3, 0.3, 0.9, 16);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1126:            const rivalBodyMaterial = new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1127:                color: 0x000000, // Black shirt
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1128:                roughness: 0.8
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1129:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1130:            const rivalBody = new THREE.Mesh(rivalBodyGeometry, rivalBodyMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1131:            rivalGroup.add(rivalBody);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1132:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1133:            // Head
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1134:            const rivalHeadGeometry = new THREE.SphereGeometry(0.28, 32, 32);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1135:            const rivalHeadMaterial = new THREE.MeshStandardMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1136:                color: 0xFFD700, // Skin tone
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1137:                roughness: 0.5
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1138:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1139:            const rivalHead = new THREE.Mesh(rivalHeadGeometry, rivalHeadMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1140:            rivalHead.position.y = 0.65;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1141:            rivalGroup.add(rivalHead);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1142:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1143:            // Create skateboard
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1144:            const boardGeometry = new THREE.BoxGeometry(1.2, 0.1, 0.5);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1145:            const boardMaterial = new THREE.MeshStandardMaterial({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1146:                color: 0x8B4513,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1147:                roughness: 0.7
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1148:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1149:            const board = new THREE.Mesh(boardGeometry, boardMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1150:            board.position.y = -0.6;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1151:            rivalGroup.add(board);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1152:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1153:            // Position the rival
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1154:            rivalGroup.position.set(10, 1, 7);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1155:            rivalGroup.userData = {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1156:                isNPC: true,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1157:                type: 'rival',
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1158:                name: 'Street King',
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1159:                messages: [
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1160:                    "Think you're good enough to beat me?",
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1161:                    "Show me what you got, rookie!",
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1162:                    "Get a score over 1000 to challenge me!",
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1163:                    "You'll never be the Street King!",
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1164:                    "Nice moves, but still not as good as mine!"
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1165:                ]
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1166:            };
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1167:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1168:            scene.add(rivalGroup);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1169:            interactiveNPCs.push(rivalGroup);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1170:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1171:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1172:        // Setup control bindings (GDD Section 2.1)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1173:        function setupControls() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1174:            // Control instructions added to UI
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1175:            document.getElementById('controls').innerHTML = `
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1176:                <h3>Controls:</h3>
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1177:                <p>WASD - Move</p>
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1178:                <p>SPACE - Jump</p>
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1179:                <p>E - Ollie</p>
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1180:                <p>SHIFT - Grind (when near rail)</p>
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1181:                <p>M - Toggle Sound</p>
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1182:                <p>R - Restart (after game over)</p>
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1183:            `;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1184:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1185:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1186:        // Window resize handler (GDD Section 3.3)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1187:        function onWindowResize() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1188:            camera.aspect = window.innerWidth / window.innerHeight;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1189:            camera.updateProjectionMatrix();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1190:            renderer.setSize(window.innerWidth, window.innerHeight);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1191:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1192:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1193:        // Create a basic obstacle (GDD Section 3.1)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1194:        function createObstacle() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1195:            // Create different types of obstacles
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1196:            const obstacleTypes = [
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1197:                { 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1198:                    type: 'trafficCone',
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1199:                    geometry: new THREE.ConeGeometry(0.5, 1, 32),
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1200:                    material: new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1201:                        color: 0xFF5500,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1202:                        roughness: 0.8
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1203:                    }),
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1204:                    scale: { x: 1, y: 1, z: 1 },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1205:                    height: 0.5
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1206:                },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1207:                { 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1208:                    type: 'trashCan',
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1209:                    geometry: new THREE.CylinderGeometry(0.5, 0.4, 1.2, 16),
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1210:                    material: new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1211:                        color: 0x444444,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1212:                        roughness: 0.7
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1213:                    }),
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1214:                    scale: { x: 1, y: 1, z: 1 },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1215:                    height: 0.6
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1216:                },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1217:                { 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1218:                    type: 'hydrant',
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1219:                    geometry: new THREE.CylinderGeometry(0.3, 0.4, 0.8, 16),
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1220:                    material: new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1221:                        color: 0xFF0000,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1222:                        roughness: 0.6
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1223:                    }),
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1224:                    scale: { x: 1, y: 1, z: 1 },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1225:                    height: 0.4
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1226:                },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1227:                {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1228:                    type: 'constructionBarrier',
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1229:                    geometry: new THREE.BoxGeometry(1.5, 0.8, 0.2),
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1230:                    material: new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1231:                        color: 0xFFA500,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1232:                        roughness: 0.8
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1233:                    }),
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1234:                    scale: { x: 1, y: 1, z: 1 },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1235:                    height: 0.4
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1236:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1237:            ];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1238:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1239:            // Choose random obstacle type
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1240:            const selectedObstacle = obstacleTypes[Math.floor(Math.random() * obstacleTypes.length)];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1241:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1242:            // Create mesh
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1243:            const obstacle = new THREE.Mesh(selectedObstacle.geometry, selectedObstacle.material);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1244:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1245:            // Set random position on the street
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1246:            obstacle.position.set(
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1247:                player.position.x + (Math.random() > 0.5 ? 1 : -1) * (10 + Math.random() * 5), // x
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1248:                selectedObstacle.height, // y
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1249:                Math.random() * 16 - 8 // z
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1250:            );
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1251:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1252:            obstacle.castShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1253:            obstacle.receiveShadow = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1254:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1255:            // Add special properties for different obstacle types
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1256:            switch(selectedObstacle.type) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1257:                case 'trafficCone':
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1258:                    // Add reflective strips
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1259:                    const stripGeometry = new THREE.TorusGeometry(0.52, 0.05, 8, 16);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1260:                    const stripMaterial = new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1261:                        color: 0xFFFFFF,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1262:                        emissive: 0xFFFFFF,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1263:                        emissiveIntensity: 0.2
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1264:                    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1265:                    const strip1 = new THREE.Mesh(stripGeometry, stripMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1266:                    strip1.position.y = 0.2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1267:                    strip1.rotation.x = Math.PI / 2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1268:                    obstacle.add(strip1);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1269:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1270:                    const strip2 = new THREE.Mesh(stripGeometry, stripMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1271:                    strip2.position.y = 0.4;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1272:                    strip2.scale.set(0.7, 0.7, 0.7);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1273:                    strip2.rotation.x = Math.PI / 2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1274:                    obstacle.add(strip2);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1275:                    break;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1276:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1277:                case 'trashCan':
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1278:                    // Add lid
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1279:                    const lidGeometry = new THREE.CylinderGeometry(0.55, 0.55, 0.1, 16);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1280:                    const lidMaterial = new THREE.MeshStandardMaterial({ color: 0x333333 });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1281:                    const lid = new THREE.Mesh(lidGeometry, lidMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1282:                    lid.position.y = 0.65;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1283:                    obstacle.add(lid);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1284:                    break;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1285:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1286:                case 'hydrant':
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1287:                    // Add caps
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1288:                    const capGeometry = new THREE.SphereGeometry(0.15, 16, 16);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1289:                    const capMaterial = new THREE.MeshStandardMaterial({ 
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1290:                        color: 0xCCCCCC,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1291:                        metalness: 0.8,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1292:                        roughness: 0.2
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1293:                    });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1294:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1295:                    const leftCap = new THREE.Mesh(capGeometry, capMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1296:                    leftCap.position.set(-0.35, 0.2, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1297:                    obstacle.add(leftCap);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1298:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1299:                    const rightCap = new THREE.Mesh(capGeometry, capMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1300:                    rightCap.position.set(0.35, 0.2, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1301:                    obstacle.add(rightCap);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1302:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1303:                    // Add top
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1304:                    const topGeometry = new THREE.CylinderGeometry(0.15, 0.15, 0.2, 16);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1305:                    const top = new THREE.Mesh(topGeometry, capMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1306:                    top.position.y = 0.5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1307:                    obstacle.add(top);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1308:                    break;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1309:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1310:                case 'constructionBarrier':
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1311:                    // Add stripes
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1312:                    const barrierStripeGeometry = new THREE.PlaneGeometry(0.2, 0.8);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1313:                    const blackStripeMaterial = new THREE.MeshBasicMaterial({ color: 0x000000 });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1314:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1315:                    // Add alternating orange/black stripes
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1316:                    for (let i = 0; i < 5; i++) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1317:                        if (i % 2 === 1) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1318:                            const stripe = new THREE.Mesh(barrierStripeGeometry, blackStripeMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1319:                            stripe.position.set(-0.6 + i * 0.3, 0, 0.11);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1320:                            obstacle.add(stripe);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1321:                        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1322:                    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1323:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1324:                    // Add legs
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1325:                    const legGeometry = new THREE.BoxGeometry(0.1, 0.6, 0.1);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1326:                    const legMaterial = new THREE.MeshStandardMaterial({ color: 0x888888 });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1327:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1328:                    const leftLeg = new THREE.Mesh(legGeometry, legMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1329:                    leftLeg.position.set(-0.5, -0.7, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1330:                    obstacle.add(leftLeg);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1331:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1332:                    const rightLeg = new THREE.Mesh(legGeometry, legMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1333:                    rightLeg.position.set(0.5, -0.7, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1334:                    obstacle.add(rightLeg);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1335:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1336:                    // Adjust position for barrier
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1337:                    obstacle.position.y = 0.8;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1338:                    break;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1339:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1340:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1341:            // Add to scene and obstacles array
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1342:            scene.add(obstacle);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1343:            obstacles.push(obstacle);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1344:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1345:            // Spawn a new obstacle after a delay
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1346:            setTimeout(() => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1347:                if (!gameOver) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1348:                    lastObstacleTime = Date.now();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1349:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1350:            }, obstacleSpawnRate);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1351:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1352:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1353:        // Periodically update obstacles (GDD Section 3.1)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1354:        function updateObstacles() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1355:            // Create new obstacles based on spawn rate
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1356:            if (Date.now() - lastObstacleTime > aiEvents[currentAIEvent].obstacleFrequency) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1357:                createObstacle();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1358:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1359:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1360:            // Move existing obstacles
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1361:            obstacles.forEach((obstacle, index) => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1362:                // Move obstacles toward player if they go too far
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1363:                if (obstacle.position.x < player.position.x - 50) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1364:                    obstacle.position.x = player.position.x + 50 + Math.random() * 10;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1365:                    obstacle.position.z = Math.random() * 16 - 8;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1366:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1367:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1368:                // Remove obstacles that are behind player
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1369:                if (obstacle.position.x < player.position.x - 60) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1370:                    scene.remove(obstacle);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1371:                    obstacles.splice(index, 1);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1372:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1373:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1374:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1375:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1376:        // Animate ambient skaters
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1377:        function animateAmbientSkaters() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1378:            ambientSkaters.forEach((skater, index) => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1379:                // Make skaters do simple tricks and movements
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1380:                skater.rotation.y += 0.01;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1381:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1382:                // Simple bobbing motion
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1383:                skater.position.y = 1 + Math.sin(Date.now() * 0.001 + index) * 0.1;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1384:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1385:                // Occasionally do a jump
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1386:                if (Math.random() < 0.002) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1387:                    // Jump animation
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1388:                    const jumpHeight = 1 + Math.random();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1389:                    const jumpDuration = 1000;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1390:                    const startTime = Date.now();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1391:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1392:                    const jumpInterval = setInterval(() => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1393:                        const elapsed = Date.now() - startTime;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1394:                        const progress = elapsed / jumpDuration;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1395:                        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1396:                        if (progress >= 1) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1397:                            skater.position.y = 1;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1398:                            clearInterval(jumpInterval);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1399:                        } else {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1400:                            // Parabolic jump curve
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1401:                            skater.position.y = 1 + jumpHeight * Math.sin(progress * Math.PI);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1402:                            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1403:                            // Add rotation for trick
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1404:                            skater.rotation.z = progress * Math.PI * 2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1405:                        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1406:                    }, 16);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1407:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1408:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1409:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1410:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1411:        // Update camera to follow player (GDD Section 4.2)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1412:        function updateCamera() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1413:            // Smooth follow camera
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1414:            const cameraTargetPosition = new THREE.Vector3(
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1415:                player.position.x - 5,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1416:                player.position.y + 5,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1417:                player.position.z
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1418:            );
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1419:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1420:            // Interpolate camera position for smoothness
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1421:            camera.position.lerp(cameraTargetPosition, 0.05);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1422:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1423:            // Look at player
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1424:            camera.lookAt(player.position);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1425:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1426:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1427:        // Check if player is near a rail for grinding (GDD Section 2.1)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1428:        function isNearRail() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1429:            return (
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1430:                Math.abs(player.position.x - rail.position.x) < 0.5 &&
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1431:                Math.abs(player.position.z - rail.position.z) < 0.7
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1432:            );
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1433:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1434:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1435:        // Collision detection function (GDD Section 3.2)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1436:        function checkCollision() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1437:            // Check for obstacle collisions
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1438:            obstacles.forEach(obstacle => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1439:                if (getDistance(player.position, obstacle.position) < 1) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1440:                    handleCollision();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1441:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1442:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1443:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1444:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1445:        // Handle collision with obstacle (GDD Section 3.2)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1446:        function handleCollision() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1447:            // Apply knockback to player
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1448:            playerState.velocity.y = 0.5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1449:            playerState.velocity.x = -0.1;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1450:            playerState.onGround = false;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1451:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1452:            // Decrease score
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1453:            score -= 100;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1454:            score = Math.max(0, score); // Prevent negative score
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1455:            updateScoreDisplay();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1456:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1457:            // Visual feedback - player flashes red
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1458:            if (player.material) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1459:                const originalColor = player.material.color.clone();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1460:                player.material.color.set(0xff0000);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1461:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1462:                // Reset color after a short delay
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1463:                setTimeout(() => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1464:                    if (player.material) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1465:                        player.material.color.copy(originalColor);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1466:                    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1467:                }, 300);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1468:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1469:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1470:            // Play collision sound (GDD Section 5.0)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1471:            if (soundEnabled && collisionSound && !collisionSound.isPlaying) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1472:                collisionSound.play();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1473:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1474:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1475:            // Check if game over (low score or too many collisions)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1476:            if (score <= 0) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1477:                gameOver = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1478:                showGameOver("You wiped out! Your final score: 0");
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1479:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1480:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1481:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1482:        // Calculate distance between two Vector3 points
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1483:        function getDistance(point1, point2) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1484:            return Math.sqrt(
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1485:                Math.pow(point1.x - point2.x, 2) +
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1486:                Math.pow(point1.y - point2.y, 2) +
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1487:                Math.pow(point1.z - point2.z, 2)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1488:            );
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1489:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1490:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1491:        // Update score display (GDD Section 2.2)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1492:        function updateScoreDisplay() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1493:            document.getElementById('score').textContent = `Score: ${score}`;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1494:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1495:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1496:        // Show 'Ollie!' text above player
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1497:        function showOllieText() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1498:            if (ollieTextMesh) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1499:                scene.remove(ollieTextMesh);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1500:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1501:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1502:            const loader = new THREE.FontLoader();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1503:            loader.load('https://threejs.org/examples/fonts/helvetiker_regular.typeface.json', function(font) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1504:                const textGeometry = new THREE.TextGeometry('Ollie!', {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1505:                    font: font,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1506:                    size: 0.5,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1507:                    height: 0.1
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1508:                });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1509:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1510:                const textMaterial = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1511:                ollieTextMesh = new THREE.Mesh(textGeometry, textMaterial);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1512:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1513:                // Position text above player
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1514:                ollieTextMesh.position.copy(player.position);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1515:                ollieTextMesh.position.y += 2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1516:                ollieTextMesh.lookAt(camera.position);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1517:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1518:                scene.add(ollieTextMesh);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1519:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1520:                // Remove text after a short time
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1521:                setTimeout(() => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1522:                    scene.remove(ollieTextMesh);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1523:                }, 1000);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1524:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1525:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1526:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1527:        // Show game over screen (GDD Section 2.3)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1528:        function showGameOver(message) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1529:            document.getElementById('gameOver').style.display = 'flex';
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1530:            document.getElementById('gameOverText').textContent = message;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1531:            document.getElementById('finalScore').textContent = `Final Score: ${score}`;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1532:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1533:            // Stop animation loop
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1534:            cancelAnimationFrame(animationId);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1535:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1536:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1537:        // Reset game (GDD Section 2.3)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1538:        function resetGame() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1539:            // Reset player position and state
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1540:            player.position.set(0, 1, 0);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1541:            playerState = {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1542:                velocity: { x: 0, y: 0, z: 0 },
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1543:                speed: 0.1,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1544:                jumpPower: 1.5,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1545:                gravity: 0.005,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1546:                onGround: true,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1547:                grinding: false
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1548:            };
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1549:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1550:            // Reset game state
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1551:            score = 0;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1552:            updateScoreDisplay();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1553:            gameOver = false;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1554:            lastObstacleTime = 0;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1555:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1556:            // Remove all obstacles
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1557:            obstacles.forEach(obstacle => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1558:                scene.remove(obstacle);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1559:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1560:            obstacles = [];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1561:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1562:            // Reset power-ups
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1563:            powerUps.forEach(powerUp => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1564:                scene.remove(powerUp);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1565:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1566:            powerUps = [];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1567:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1568:            // Reset coins
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1569:            coins.forEach(coin => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1570:                scene.remove(coin);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1571:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1572:            coins = [];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1573:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1574:            // Create new interactive elements
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1575:            addInteractiveElements();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1576:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1577:            // Hide game over screen
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1578:            document.getElementById('gameOver').style.display = 'none';
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1579:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1580:            // Reset camera
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1581:            camera.position.set(0, 5, 10);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1582:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1583:            // Choose random AI event
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1585:            document.getElementById('event').textContent = aiEvents[currentAIEvent].name;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1586:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1589:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1590:            // Play background music
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1591:            if (backgroundMusic && soundEnabled) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1592:                backgroundMusic.play();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1593:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1594:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1595:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1596:        // Toggle sound (GDD Section 5.0)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1597:        function toggleSound() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1598:            soundEnabled = !soundEnabled;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1599:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1600:            if (soundEnabled) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1601:                if (backgroundMusic) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1602:                    backgroundMusic.play();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1603:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1604:                if (ambientSound) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1605:                    ambientSound.play();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1606:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1607:                document.getElementById('soundStatus').textContent = 'Sound: ON';
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1608:            } else {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1609:                if (backgroundMusic) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1610:                    backgroundMusic.pause();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1611:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1612:                if (ambientSound) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1613:                    ambientSound.pause();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1614:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1615:                document.getElementById('soundStatus').textContent = 'Sound: OFF';
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1616:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1617:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1618:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1619:        // Modified performOllie to include particle effects
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1620:        function performOllie() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1621:            // Rotate player
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1622:            player.rotation.y += Math.PI;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1623:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1624:            // Add points
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1625:            score += 20;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1626:            updateScoreDisplay();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1627:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1628:            // Show 'Ollie!' above player
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1629:            showOllieText();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1630:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1631:            // Create ollie particle effect
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1632:            const positions = ollieParticles.geometry.attributes.position.array;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1633:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1634:            for (let i = 0; i < positions.length; i += 3) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1635:                positions[i] = player.position.x + (Math.random() - 0.5) * 0.5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1636:                positions[i + 1] = player.position.y + (Math.random() - 0.5) * 0.5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1637:                positions[i + 2] = player.position.z + (Math.random() - 0.5) * 0.5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1638:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1639:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1640:            ollieParticles.geometry.attributes.position.needsUpdate = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1641:            ollieParticles.visible = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1642:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1643:            // Play ollie sound (GDD Section 5.0)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1644:            if (soundEnabled && ollieSound && ollieSound.isPlaying === false) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1645:                ollieSound.play();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1646:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1647:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1648:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1649:        // Update particle effects
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1650:        function updateParticleEffects() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1651:            // Update jump particles
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1652:            if (jumpParticles.visible) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1653:                const positions = jumpParticles.geometry.attributes.position.array;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1654:                for (let i = 0; i < positions.length; i += 3) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1655:                    // Apply gravity and random movement to particles
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1656:                    positions[i] += (Math.random() - 0.5) * 0.1; // x
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1657:                    positions[i + 1] -= 0.05; // y (gravity)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1658:                    positions[i + 2] += (Math.random() - 0.5) * 0.1; // z
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1659:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1660:                    // If particle goes below ground, reset it
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1661:                    if (positions[i + 1] < 0) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1662:                        jumpParticles.visible = false;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1663:                    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1664:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1665:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1666:                jumpParticles.geometry.attributes.position.needsUpdate = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1667:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1668:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1669:            // Update grind particles
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1670:            if (grindParticles.visible && playerState.grinding) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1671:                const positions = grindParticles.geometry.attributes.position.array;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1672:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1673:                for (let i = 0; i < positions.length; i += 3) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1674:                    // Create spark effect around grinding point
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1675:                    positions[i] = player.position.x + (Math.random() - 0.5) * 0.2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1676:                    positions[i + 1] = player.position.y - 0.1 + Math.random() * 0.1;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1677:                    positions[i + 2] = player.position.z + (Math.random() - 0.5) * 0.2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1678:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1679:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1680:                grindParticles.geometry.attributes.position.needsUpdate = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1681:            } else {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1682:                grindParticles.visible = false;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1683:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1684:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1685:            // Update ollie particles
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1686:            if (ollieParticles.visible) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1687:                const positions = ollieParticles.geometry.attributes.position.array;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1688:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1689:                for (let i = 0; i < positions.length; i += 3) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1690:                    // Apply outward expansion effect
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1691:                    const dx = positions[i] - player.position.x;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1692:                    const dy = positions[i + 1] - player.position.y;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1693:                    const dz = positions[i + 2] - player.position.z;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1694:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1695:                    positions[i] += dx * 0.05;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1696:                    positions[i + 1] += dy * 0.05 - 0.01; // Slight gravity
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1697:                    positions[i + 2] += dz * 0.05;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1698:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1699:                    // If particles have expanded enough, hide them
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1700:                    if (Math.abs(dx) > 2 || Math.abs(dy) > 2 || Math.abs(dz) > 2) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1701:                        ollieParticles.visible = false;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1702:                    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1703:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1704:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1705:                ollieParticles.geometry.attributes.position.needsUpdate = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1706:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1707:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1708:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1709:        // Update collectibles and power-ups
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1710:        function updateInteractiveElements() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1711:            // Rotate coins
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1712:            coins.forEach((coin, index) => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1713:                coin.rotation.y += coin.userData.rotationSpeed;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1714:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1715:                // Check for collision with player
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1716:                if (getDistance(player.position, coin.position) < 1) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1717:                    // Collect the coin
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1718:                    scene.remove(coin);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1719:                    coins.splice(index, 1);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1720:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1721:                    // Add score
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1722:                    score += coin.userData.value;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1723:                    updateScoreDisplay();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1724:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1725:                    // Play coin sound
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1726:                    if (soundEnabled && coinSound && !coinSound.isPlaying) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1727:                        coinSound.play();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1728:                    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1729:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1730:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1731:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1732:            // Rotate and bob power-ups
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1733:            powerUps.forEach((powerUp, index) => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1734:                powerUp.rotation.y += powerUp.userData.rotationSpeed;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1735:                powerUp.rotation.x += powerUp.userData.rotationSpeed / 2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1736:                powerUp.position.y = 1.5 + Math.sin(Date.now() * 0.002) * 0.3;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1737:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1738:                // Check for collision with player
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1739:                if (getDistance(player.position, powerUp.position) < 1) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1740:                    // Apply power-up effect
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1741:                    applyPowerUp(powerUp.userData);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1742:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1743:                    // Remove power-up
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1744:                    scene.remove(powerUp);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1745:                    powerUps.splice(index, 1);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1746:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1747:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1748:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1749:            // Animate NPCs
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1750:            interactiveNPCs.forEach(npc => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1751:                // Make NPCs bob up and down slightly
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1752:                npc.position.y = 1 + Math.sin(Date.now() * 0.001 + npc.position.x) * 0.1;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1753:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1754:                // Make NPCs rotate slightly
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1755:                npc.rotation.y += 0.01;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1756:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1757:                // Check for proximity to player to trigger dialogue
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1758:                if (getDistance(player.position, npc.position) < 3) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1759:                    // Show random message from NPC
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1760:                    const messages = npc.userData.messages;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1761:                    const randomMsg = messages[Math.floor(Math.random() * messages.length)];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1762:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1763:                    document.getElementById('event').textContent = `${npc.userData.name}: ${randomMsg}`;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1764:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1765:                    // Reset message after 3 seconds
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1766:                    setTimeout(() => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1767:                        if (!gameOver) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1768:                            document.getElementById('event').textContent = aiEvents[currentAIEvent].name;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1769:                        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1770:                    }, 3000);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1771:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1772:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1773:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1774:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1775:        // Apply power-up effects
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1776:        let activePowerUps = [];
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1777:        function applyPowerUp(powerUpData) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1778:            // Store power-up data with expiration time
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1779:            const expirationTime = Date.now() + powerUpData.duration;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1780:            activePowerUps.push({
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1781:                type: powerUpData.type,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1782:                value: powerUpData.value,
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1783:                expirationTime: expirationTime
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1784:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1785:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1786:            // Update UI
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1787:            document.getElementById('event').textContent = `Power-up: ${powerUpData.type} activated!`;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1788:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1789:            // Apply immediate effect based on type
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1790:            switch(powerUpData.type) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1791:                case 'speed':
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1792:                    playerState.speed *= powerUpData.value;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1793:                    break;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1794:                case 'jump':
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1795:                    playerState.jumpPower *= powerUpData.value;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1796:                    break;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1797:                case 'invincibility':
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1798:                    // Visual effect for invincibility
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1799:                    if (player.material) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1800:                        player.material.color.set(0xFFFF00);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1801:                        player.material.emissive = new THREE.Color(0xFFFF00);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1802:                        player.material.emissiveIntensity = 0.5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1803:                    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1804:                    break;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1805:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1806:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1807:            // Play power-up sound
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1808:            if (soundEnabled && powerUpSound && !powerUpSound.isPlaying) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1809:                powerUpSound.play();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1810:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1811:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1812:            // Set timeout to revert effect
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1813:            setTimeout(() => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1814:                // Remove from active power-ups
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1815:                activePowerUps = activePowerUps.filter(pu => pu.expirationTime > Date.now());
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1816:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1817:                // Revert effects if no similar power-ups are active
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1818:                if (!activePowerUps.some(pu => pu.type === powerUpData.type)) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1819:                    switch(powerUpData.type) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1820:                        case 'speed':
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1821:                            playerState.speed = 0.1; // Reset to default
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1822:                            break;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1823:                        case 'jump':
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1824:                            playerState.jumpPower = 1.5; // Reset to default
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1825:                            break;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1826:                        case 'invincibility':
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1827:                            // Reset visual effect
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1828:                            if (player.material) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1829:                                player.material.color.set(0x00ff00);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1830:                                player.material.emissive = new THREE.Color(0x000000);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1831:                                player.material.emissiveIntensity = 0;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1832:                            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1833:                            break;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1834:                    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1835:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1836:                    // Update UI
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1837:                    document.getElementById('event').textContent = `Power-up: ${powerUpData.type} expired`;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1838:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1839:                    // Reset UI after 2 seconds
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1840:                    setTimeout(() => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1841:                        if (!gameOver) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1842:                            document.getElementById('event').textContent = aiEvents[currentAIEvent].name;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1843:                        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1844:                    }, 2000);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1845:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1846:            }, powerUpData.duration);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1847:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1848:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1849:        // Update player movement with added particle effects and power-ups
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1850:        function updatePlayerMovement() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1851:            // Check for active power-ups and remove expired ones
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1852:            activePowerUps = activePowerUps.filter(pu => pu.expirationTime > Date.now());
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1853:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1854:            // GDD Section 2.1: Ollie mechanic
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1855:            if (keys.e && !playerState.grinding && playerState.onGround) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1856:                performOllie();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1857:                keys.e = false; // Prevent holding E for repeated ollies
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1858:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1859:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1860:            // GDD Section 2.1: Grinding mechanics
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1861:            if (!playerState.grinding) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1862:                // WASD movement
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1863:                if (keys.w) player.position.z -= playerState.speed;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1864:                if (keys.s) player.position.z += playerState.speed;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1865:                if (keys.a) player.position.x -= playerState.speed;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1866:                if (keys.d) player.position.x += playerState.speed;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1867:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1868:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1869:            // Check for grind activation
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1870:            if (!playerState.grinding && keys.shift && isNearRail()) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1871:                playerState.grinding = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1872:                // Lock y to rail height
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1873:                player.position.y = rail.position.y + 0.25; // Slightly above rail
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1874:                playerState.velocity.y = 0;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1875:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1876:                // Activate grind particles
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1877:                const positions = grindParticles.geometry.attributes.position.array;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1878:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1879:                for (let i = 0; i < positions.length; i += 3) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1880:                    positions[i] = player.position.x + (Math.random() - 0.5) * 0.2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1881:                    positions[i + 1] = player.position.y - 0.1 + Math.random() * 0.1;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1882:                    positions[i + 2] = player.position.z + (Math.random() - 0.5) * 0.2;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1883:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1884:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1885:                grindParticles.geometry.attributes.position.needsUpdate = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1886:                grindParticles.visible = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1887:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1888:                // Play grinding sound
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1889:                if (soundEnabled && grindSound && !grindSound.isPlaying) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1890:                    grindSound.play();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1891:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1892:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1893:                // Add points for grinding
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1894:                score += 5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1895:                updateScoreDisplay();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1896:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1897:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1898:            // Grinding movement
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1899:            if (playerState.grinding) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1900:                // Only allow movement along z axis of rail
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1901:                if (keys.w) player.position.z -= playerState.speed * 1.5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1902:                if (keys.s) player.position.z += playerState.speed * 1.5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1903:                // Lock x and y to rail
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1904:                player.position.x = rail.position.x;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1905:                player.position.y = rail.position.y + 0.25;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1906:                // Exit grind if not holding shift or moved off rail
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1907:                if (!keys.shift || !isNearRail()) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1908:                    playerState.grinding = false;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1909:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1910:                    // Stop grinding sound
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1911:                    if (grindSound && grindSound.isPlaying) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1912:                        grindSound.stop();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1913:                    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1914:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1915:            } else {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1916:                // Jump physics with particle effects (GDD Section 5.3)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1917:                if (keys.space && playerState.onGround) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1918:                    playerState.velocity.y = playerState.jumpPower;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1919:                    playerState.onGround = false;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1920:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1921:                    // Create jump particle effect
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1922:                    const positions = jumpParticles.geometry.attributes.position.array;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1923:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1924:                    for (let i = 0; i < positions.length; i += 3) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1925:                        positions[i] = player.position.x + (Math.random() - 0.5) * 0.5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1926:                        positions[i + 1] = player.position.y - 0.5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1927:                        positions[i + 2] = player.position.z + (Math.random() - 0.5) * 0.5;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1928:                    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1929:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1930:                    jumpParticles.geometry.attributes.position.needsUpdate = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1931:                    jumpParticles.visible = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1932:                    
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1933:                    // Play jump sound
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1934:                    if (soundEnabled && jumpSound && !jumpSound.isPlaying) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1935:                        jumpSound.play();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1936:                    }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1937:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1938:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1939:                // Apply gravity
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1940:                playerState.velocity.y -= playerState.gravity;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1941:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1942:                // Update position based on velocity
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1943:                player.position.y += playerState.velocity.y;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1944:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1945:                // Ground collision check
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1946:                if (player.position.y <= 1) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1947:                    player.position.y = 1;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1948:                    playerState.velocity.y = 0;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1949:                    playerState.onGround = true;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1950:                }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1951:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1952:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1953:            // Avoid collision with invincibility power-up
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1954:            const hasInvincibility = activePowerUps.some(pu => pu.type === 'invincibility');
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1955:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1956:            // Check for obstacle collisions only if not invincible
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1957:            if (!hasInvincibility) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1958:                checkCollision();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1959:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1960:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1961:            // Keep player within street bounds
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1962:            if (player.position.x < -45) player.position.x = -45;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1963:            if (player.position.x > 45) player.position.x = 45;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1964:            if (player.position.z < -9) player.position.z = -9;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1965:            if (player.position.z > 9) player.position.z = 9;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1966:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1967:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1968:        // Animate environment elements
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1969:        function animateEnvironment() {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1970:            // Make trees sway gently
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1971:            treeModels.forEach((tree, index) => {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1972:                tree.rotation.z = Math.sin(Date.now() * 0.001 + index) * 0.05;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1973:            });
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1974:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1975:            // Day/night cycle (subtle color changes)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1976:            const time = Date.now() * 0.0001;
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1977:            const skyColor = new THREE.Color(
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1978:                0.5 + 0.3 * Math.sin(time),
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1979:                0.5 + 0.3 * Math.sin(time),
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1980:                0.8 + 0.2 * Math.sin(time)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1981:            );
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1982:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1983:            // Gradually change sky color
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1984:            if (scene.background && scene.background.isColor) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1985:                scene.background.lerp(skyColor, 0.01);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1986:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1987:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1988:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1989:        // Enhanced game animation loop (GDD Section 6.1)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1991:            animationId = requestAnimationFrame(animate);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1992:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1993:            if (!gameOver) {
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1994:                // Update player movement and physics
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1995:                updatePlayerMovement();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1996:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1997:                // Update obstacles
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1998:                updateObstacles();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:1999:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2000:                // Update particle effects
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2001:                updateParticleEffects();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2002:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2003:                // Update interactive elements (coins, power-ups, NPCs)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2004:                updateInteractiveElements();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2005:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2006:                // Update camera to follow player
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2007:                updateCamera();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2008:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2009:                // Animate ambient skaters
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2010:                animateAmbientSkaters();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2011:                
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2012:                // Animate environment elements (trees swaying, etc.)
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2013:                animateEnvironment();
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2014:            }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2015:            
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2016:            // Render the scene
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2017:            renderer.render(scene, camera);
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2018:        }
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2019:        
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2020:        // Note: Game initialization is handled by the start button in index.html
C:\Users\ali\Documents\AI_Street_Skate_Battle\game.js.bak:2021:        // Do not initialize the game here to prevent double initialization
